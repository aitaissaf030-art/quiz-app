<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Pro Medical Quiz</title>
<style>
body{
    font-family: Arial;
    background: linear-gradient(135deg,#4e73df,#1cc88a);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
}
.quiz-box{
    background:white;
    width:95%;
    max-width:600px;
    padding:25px;
    border-radius:15px;
    box-shadow:0 10px 25px rgba(0,0,0,0.2);
    text-align:center;
}
h2{margin-bottom:10px;}
.option{
    display:block;
    width:100%;
    padding:12px;
    margin:8px 0;
    border:none;
    border-radius:8px;
    background:#f8f9fc;
    cursor:pointer;
    transition:0.3s;
}
.option:hover{background:#d1d3e2;}
.correct{background:#1cc88a !important;color:white;}
.wrong{background:#e74a3b !important;color:white;}
.top-bar{
    display:flex;
    justify-content:space-between;
    margin-bottom:10px;
    font-weight:bold;
}
.next-btn{
    background:#4e73df;
    color:white;
    padding:10px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    width:100%;
    margin-top:10px;
}
.restart-btn{
    background:#858796;
    color:white;
    padding:10px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    width:100%;
    margin-top:10px;
}
</style>
</head>

<body>

<div class="quiz-box">
    <div class="top-bar">
        <div>Score: <span id="score">0</span></div>
        <div>Time: <span id="timer">15</span>s</div>
    </div>

    <h2 id="question">Loading...</h2>
    <div id="options"></div>
    <div id="progress"></div>
    <button class="next-btn" onclick="nextQuestion()">Next</button>
</div>

<script>
const quiz=[];
for(let i=1;i<=300;i++){
    quiz.push({
        question:"Medical Question "+i+": What is normal body temperature?",
        options:["35Â°C","37Â°C","39Â°C","41Â°C"],
        answer:1
    });
}

let current=0;
let score=0;
let timer;
let timeLeft=15;
let answered=false;

function loadQuestion(){
    answered=false;
    timeLeft=15;
    document.getElementById("timer").innerText=timeLeft;
    startTimer();

    const q=quiz[current];
    document.getElementById("question").innerText=q.question;
    document.getElementById("progress").innerText="Question "+(current+1)+" / "+quiz.length;
    const optDiv=document.getElementById("options");
    optDiv.innerHTML="";
    q.options.forEach((opt,i)=>{
        const btn=document.createElement("button");
        btn.innerText=opt;
        btn.classList.add("option");
        btn.onclick=()=>selectAnswer(i,btn);
        optDiv.appendChild(btn);
    });
}

function selectAnswer(index,btn){
    if(answered) return;
    answered=true;
    clearInterval(timer);

    const correctIndex=quiz[current].answer;
    const buttons=document.querySelectorAll(".option");

    buttons[correctIndex].classList.add("correct");

    if(index===correctIndex){
        score++;
        document.getElementById("score").innerText=score;
    }else{
        btn.classList.add("wrong");
    }
}

function nextQuestion(){
    clearInterval(timer);
    current++;
    if(current<quiz.length){
        loadQuestion();
    }else{
        showResult();
    }
}

function startTimer(){
    timer=setInterval(()=>{
        timeLeft--;
        document.getElementById("timer").innerText=timeLeft;
        if(timeLeft<=0){
            clearInterval(timer);
            selectAnswer(-1,null);
        }
    },1000);
}

function showResult(){
    document.querySelector(".quiz-box").innerHTML=
    "<h2>Quiz Finished ðŸŽ‰</h2>"+
    "<h3>Your Score: "+score+" / "+quiz.length+"</h3>"+
    "<button class='restart-btn' onclick='restartQuiz()'>Restart Quiz</button>";
}

function restartQuiz(){
    current=0;
    score=0;
    document.querySelector(".quiz-box").innerHTML=`
    <div class="top-bar">
        <div>Score: <span id="score">0</span></div>
        <div>Time: <span id="timer">15</span>s</div>
    </div>
    <h2 id="question"></h2>
    <div id="options"></div>
    <div id="progress"></div>
    <button class="next-btn" onclick="nextQuestion()">Next</button>
    `;
    loadQuestion();
}

loadQuestion();
</script>

</body>
</html>
